"0","corr_matrix <- cor(data_clean[, num_vars], use = ""complete.obs"") # sử dụng biến num_vars đã có AVG_BILL"
"0",""
"0","# Vẽ và lưu ảnh"
"0","png(paste0(EDA_PLOTS_DIR, ""correlation_matrix.png""), width = 10, height = 10, units = ""in"", res = 300)"
"0","corrplot("
"0","  corr_matrix,"
"0","  method = ""color"", # Hoặc ""circle"", ""number"""
"0","  type = ""upper"",    # Hiển thị nửa trên ma trận"
"0","  order = ""hclust"",  # Sắp xếp theo phân cụm thứ bậc"
"0","  addCoef.col = ""black"", # Thêm hệ số tương quan"
"0","  tl.col = ""black"",  # Màu chữ của tên biến"
"0","  tl.srt = 45,       # Xoay tên biến 45 độ"
"0","  diag = FALSE,      # Không hiển thị đường chéo"
"0","  number.cex = 0.7,  # Kích thước chữ của hệ số"
"0","  title = ""Ma trận tương quan các biến số"","
"0","  mar = c(0, 0, 1.5, 0) # Điều chỉnh margin"
"0",")"
